@model IEnumerable<Mexpressapp.Models.Veiculo>

@*  *@
@using Microsoft.AspNetCore.Identity
@inject UserManager<ApplicationUser> UserManager


<p>Model é null? @(Model == null)</p>
<p>Quantidade de veículos: @(Model?.Count() ?? 0)</p>

<p>
	@if (User.IsInRole("Admin"))
	{
		<a asp-action="Create" class="btn btn-success">Novo Veículo</a>
	}
</p>

<h2>
	Veiculos disponiveis
</h2>

<table>
    <tr>
        <td>Marca |</td>
        <td>Modelo |</td>
		<td>Ano |</td>
		<td>Placa |</td>
        <td>Cilindrada |</td>
		<td>Cavalos |</td>
		<td>Valor Diaria |</td>
		<td>Km rodados |</td>
		<td>Litragem | <td>
		<td>Disponivel |</td>
    </tr>

	@foreach (var v in Model ?? Enumerable.Empty<Mexpressapp.Models.Veiculo>())
	{
		<tr>

			<td>@v.Marca</td>
			<td>@v.Modelo</td>
			<td>@v.Ano</td>
			<td>@v.Placa</td>
			<td>@v.Cilindrada</td>
			<td>@v.Cavalos</td>
			<td>@v.PrecoDia</td>
			<td>@v.KmRodados</td>
			<td>@v.CapacidadeLitros</td>
			<td>@(v.Disponivel ? "Sim" : "Nao")</td>
			<td>
				@if (User.IsInRole("Admin"))
				{
					<a asp-action="Edit" asp-route-id="@v.Id">Editar</a>
					<a asp-action = "Delete" asp-route-id = "@v.Id" >Excluir</a>
				}
			</td>
		</tr>
	}

</table>